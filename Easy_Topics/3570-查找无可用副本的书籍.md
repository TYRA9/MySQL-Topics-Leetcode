#### **No.3570-查找无可用副本的书籍**:
1. **力扣链接**：https://leetcode.cn/problems/find-books-with-no-available-copies/description/
2. **题目说明**
    - //todo
3. **答案**（纯代码）： 
      
    ```sql
    # Write your MySQL query statement below
    -- In MySQL, any column used in the SELECT or HAVING clauses 
    -- that is not in the GROUP BY list must be 
    -- inside an aggregate function (like SUM or MAX).

    # Method One: GROUP BY
    SELECT 
        `LB`.`book_id`,
        `LB`.`title`,
        `LB`.`author`,
        `LB`.`genre`,
        `LB`.`publication_year`,
        COUNT(`BR`.`record_id`) AS `current_borrowers`
    FROM
        `library_books` `LB`
    INNER JOIN
        `borrowing_records` `BR` ON `LB`.`book_id` = `BR`.`book_id`
    WHERE
        `BR`.`return_date` IS NULL
    GROUP BY
        `LB`.`book_id`,
        `LB`.`title`,
        `LB`.`author`,
        `LB`.`genre`,
        `LB`.`publication_year`,
        `LB`.`total_copies`
    HAVING
        `LB`.`total_copies` = COUNT(`BR`.`record_id`)
    ORDER BY
        `current_borrowers` DESC,
        `title` ASC;

    # ------------------------------
    # Method One: Subquery
    SELECT
        `LB`.`book_id`,
        `LB`.`title`,
        `LB`.`author`,
        `LB`.`genre`,
        `LB`.`publication_year`,
        `Active`.`cnt` AS `current_borrowers`
    FROM
        `library_books` AS `LB`
    INNER JOIN (
        SELECT
            `book_id`,
            COUNT(*) AS `cnt`
        FROM
            `borrowing_records`
        WHERE
            `return_date` IS NULL
        GROUP BY
            `book_id`
    ) `Active` ON `LB`.`book_id` = `Active`.`book_id`
    WHERE
        `Active`.`cnt` = `lb`.`total_copies`
    ORDER BY
        `current_borrowers` DESC,
        `title` ASC;
    ```
4. **思路及解析**：
    - //todo